An RSS converter of https://www.bilibili.com/video/online.html and other sites for personal use.

Because there are too many video authors and categories I don't care about, so a blacklist is included.
This blacklist is highly personal.
<details>
  <summary>Click to see sample</summary>

```xml
<rss version="2.0">
  <channel>
    <title>Filtered bilibili online list</title>
    <link>https://www.bilibili.com/video/online.html</link>
    <description>A filtered bilibili online list based on my blacklist</description>
    <image>
      <url>https://www.bilibili.com/favicon.ico</url>
      <title>Filtered bilibili online list</title>
      <link>https://www.bilibili.com/video/online.html</link>
    </image>
    <item>
      <title>【STN快报第七季04】在犯罪现场，我一下就知道死的人是谁了</title>
      <link>https://b23.tv/BV1K24y1s74s</link>
      <description><![CDATA[<b>author:</b> STN工作室
    <p></p>
    <b>category:</b> 单机游戏
    <p></p>
    <b>desc:</b> 我知道你们很急，但是鲍勃考迪克现在最急
    <p></p>
    <b>view:</b> 79w
    <p></p>
    <b>danmaku:</b> 9k
    <p></p>
    <img style="width:100%" src="http://i1.hdslb.com/bfs/archive/4ac32ef4680834d3989a7af96bf61746dc833b5c.jpg" width="500">]]></description>
    </item>
    <item>
      <title>小潮院长直播回放（2月11日）</title>
      <link>https://b23.tv/BV1224y1W7iJ</link>
      <description><![CDATA[<b>author:</b> 小潮team
    <p></p>
    <b>category:</b> 单机游戏
    <p></p>
    <b>desc:</b> 小潮院长直播回放（2月11日）
    <p></p>
    <b>view:</b> 37w
    <p></p>
    <b>danmaku:</b> 9k
    <p></p>
    <img style="width:100%" src="http://i1.hdslb.com/bfs/archive/869c5ecb0d4eca4594050c90c60d82cc48eb26f6.jpg" width="500">]]></description>
    </item>
    <item>
      <title>【阿斗】法国影帝出演，20万人打出8.1分，看完差点笑出内伤！经典喜剧《你丫闭嘴》</title>
      <link>https://b23.tv/BV1nM411n7Xj</link>
      <description><![CDATA[<b>author:</b> 阿斗归来了
    <p></p>
    <b>category:</b> 影视杂谈
    <p></p>
    <b>desc:</b> 喜剧电影： 

《冒牌家庭》：BV1Xe41137qt 
《土拨鼠之日》：BV1mY4y1N7qm 
《憨豆特工1》：BV1Gr4y1u7WC 
《白头神探1》：BV1vB4y1y7B7 
《白头神探2》：BV1oa41177pA 
《白头神探3》：BV1Gv4y1w7mb 
《警察学校》：BV1j5411d75R 
《虎口脱险》：BV1M7411v7ZW 

喜欢的话多多点赞、投币、收藏吧，你们的三连支持就我更新的最大动力。 
更多精彩内容，关注我的微信公众号——阿斗归来了（adouGLL）
    <p></p>
    <b>view:</b> 26w
    <p></p>
    <b>danmaku:</b> 1k
    <p></p>
    <img style="width:100%" src="http://i0.hdslb.com/bfs/archive/afc41f0e7e5c1a8cc0dc91a18b8f4bc706715983.jpg" width="500">]]></description>
    </item>
    <item>
      <title>“他只是想混口饭吃”？别再洗白吸毒明星了！</title>
      <link>https://b23.tv/BV1f54y1N7mj</link>
      <description><![CDATA[<b>author:</b> 三代鹿人
    <p></p>
    <b>category:</b> 社科·法律·心理
    <p></p>
    <b>desc:</b> 英雄枯骨无人问，倒向罪人称英雄，这是何等的悲哀？？？
    <p></p>
    <b>view:</b> 117w
    <p></p>
    <b>danmaku:</b> 6k
    <p></p>
    <img style="width:100%" src="http://i2.hdslb.com/bfs/archive/a2dee0e14ba5dec1e3e2d86f2b2038ff299b9c61.jpg" width="500">]]></description>
    </item>
    <item>
      <title>神秘灾难肆虐，全球99%人类灭亡？经典末世片《我是传奇》揭秘</title>
      <link>https://b23.tv/BV1tD4y1P7iq</link>
      <description><![CDATA[<b>author:</b> 小片片说大片
    <p></p>
    <b>category:</b> 影视杂谈
    <p></p>
    <b>desc:</b> 2012年，人类遭遇不知名灾难，纽约成为一座空城。
那些感染而没有死亡的人们，成为了“夜魔”只能夜晚出来活动，丧失理智，会攻击所有的人。
唯一的幸存者终于研究出了解药，但是只有坚持到天亮，人类才能得以延存。
关注微信公众号：小片片说大片，更多宠粉福利等你来！
    <p></p>
    <b>view:</b> 29w
    <p></p>
    <b>danmaku:</b> 1k
    <p></p>
    <img style="width:100%" src="http://i0.hdslb.com/bfs/archive/43a1e93d62c2af529718bb9f70306f33e677e100.jpg" width="500">]]></description>
    </item>
    <item>
      <title>时隔50年，再现儿时回忆【烫饭】，简单朴素却红了眼！</title>
      <link>https://b23.tv/BV1M34y1D7hb</link>
      <description><![CDATA[<b>author:</b> 老饭骨
    <p></p>
    <b>category:</b> 美食制作
    <p></p>
    <b>desc:</b> 小饭骨们 大家的儿时回忆是什么呢？
欢迎关注#纪录片第一餐#
看万家烟火 品人间美味！
    <p></p>
    <b>view:</b> 114w
    <p></p>
    <b>danmaku:</b> 1k
    <p></p>
    <img style="width:100%" src="http://i1.hdslb.com/bfs/archive/9589caa14faa5bd5b12f2e72ef86a6e323544ce4.jpg" width="500">]]></description>
    </item>
    <item>
      <title>巨无霸手撕头颅，感染者倾巢出洞！精讲《最后生还者》第5集（含剧情评价，彩蛋分享）【墨菲】</title>
      <link>https://b23.tv/BV1nR4y1i7hH</link>
      <description><![CDATA[<b>author:</b> 绝命墨菲
    <p></p>
    <b>category:</b> 影视杂谈
    <p></p>
    <b>desc:</b> 这集，感染者根本不是主角，改动内容一如既往地高水准。但是，巨无霸的欢乐时光就要开始啦！
    <p></p>
    <b>view:</b> 49w
    <p></p>
    <b>danmaku:</b> 4k
    <p></p>
    <img style="width:100%" src="http://i1.hdslb.com/bfs/archive/cca2d7a89e9bf0938a5e3bac78c9f0c922dbbb52.jpg" width="500">]]></description>
    </item>
  </channel>
</rss>

```

</details>




# APIs
## bilibili 
- `GET /` get rss content
- `GET /blacklist` get blacklist
- `PATCH /blacklist` with json blacklist body to add new items to blacklist, return the result blacklist
- `PUT /blacklist` with json blacklist body to replace blacklist, return the result blacklist


HTTP blacklist request body should be a json object, available fields are:
```json
{
    "authors": [
        "foo"
    ],
    "categories": [
        "bar"
    ]
}

```
The authors and categories can be got from the rss content.


## ddys.site
- `GET /ddys` get rss content of ddys

## status
- `GET /status` will return `ok`

# CLI
```
Usage: bilibili-online-rss [OPTIONS]

Options:
      --host <HOST>            [default: 127.0.0.1]
  -p, --port <PORT>            [default: 3000]
  -b, --blacklist-path <FILE>  
  -h, --help                   Print help
  -V, --version                Print version

```
